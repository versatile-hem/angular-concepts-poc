{"ast":null,"code":"import * as React from \"react\";\nimport { useSyncExternalStore } from \"./useSyncExternalStore.js\";\nexport function useReactiveVar(rv) {\n  return useSyncExternalStore(React.useCallback(function (update) {\n    // By reusing the same onNext function in the nested call to\n    // rv.onNextChange(onNext), we can keep using the initial clean-up function\n    // returned by rv.onNextChange(function onNext(v){...}), without having to\n    // register the new clean-up function (returned by the nested\n    // rv.onNextChange(onNext)) with yet another callback.\n    return rv.onNextChange(function onNext() {\n      update();\n      rv.onNextChange(onNext);\n    });\n  }, [rv]), rv, rv);\n}\n//# sourceMappingURL=useReactiveVar.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}